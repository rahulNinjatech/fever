# FastAPI Events API

## Overview

This repository is designed for fetching, caching, and serving events data efficiently.

## Setup and Installation

### Prerequisites

- Python 3.8+
- Redis server (local or remote setup)
- Postgresql server (local or remote setup)

### Installation Steps

1. **Clone the repository**

    ```bash
    git clone https://github.com/rahulNinjatech/fever_assignment.git
    cd fever_assignment
    ```

2. **Create Venv
    ```bash
   python -m venv .venv
   source .venv/bin/activate
   ```

3. **Install dependencies**

    ```bash
    pip install -r requirements.txt
    ```

4. **Configure the environment**

    There are two toml files in cfg directory
        test.toml
        production.toml
    Set as per usage

4. **Apply Database Migration**
    ```alembic upgrade head``` from project root

5. **Run the application**

    ```bash
    python events_app/main.py --config=<config_file>
    ```

## Usage

Access the API through the endpoint:

- **API Documentation**: Navigate to `http://localhost:8000/docs` in your browser to view the Swagger UI which provides interactive documentation generated by FastAPI.


## Key Features

- **Efficient Data Fetching**: Dynamically fetches events based on start and end times through RESTful endpoints.
- **Redis Caching**: Implements Redis for caching event data to speed up repeated requests.
- **Asynchronous Support**: Utilizes asynchronous programming paradigms across database and network operations to improve I/O efficiency.
- **Scalability**: Built to handle between 1,000 to 5,000 requests per minute, suitable for high-load environments.

## Technologies

- **[FastAPI](https://fastapi.tiangolo.com/)**: Modern, fast (high-performance), web framework for building APIs.
- **[SQLAlchemy AsyncIO](https://docs.sqlalchemy.org/en/14/orm/extensions/asyncio.html)**: SQLAlchemy's support for asynchronous database access.
- **[Redis](https://redis.io/)**: An in-memory data structure store used as a distributed, in-memory key–value database, cache and message broker.
- **[aioredis](https://aioredis.readthedocs.io/en/latest/)**: Asynchronous Redis client that supports asyncio.
- **[HTTPX](https://www.python-httpx.org/)**: Fully featured HTTP client for Python 3, which provides synchronous and asynchronous APIs.

## Project Structure

```plaintext
/
├── events_app/
│ ├── database_manager/
│ │ ├── schemas/ # Contains SQLAlchemy models.
│ │ └── session_manager/ # Manages database sessions.
│ ├── routers/
│ │ ├── dependency.py # Provides dependencies such as Redis client.
│ │ ├── utils.py # Utility functions for interacting with DB and Redis.
│ │ └── events.py # Defines FastAPI routes for API endpoints.
│ ├── pyd_models/ # Pydantic models for data validation.
│ └── core/
│ │ └── config.py # Manages configuration and environment variables.
├ └── main.py # Entry point of the FastAPI application.
├── cron/
│ └── scheduler.py # Contains the setup for scheduled tasks (cron jobs).
└── README.md


## Contributing

Contributions are welcome! Please fork the project and submit a pull request with your features or fixes.

## License

This project is licensed under the MIT License - see the LICENSE file for details.
